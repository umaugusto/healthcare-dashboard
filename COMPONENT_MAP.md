# üìã MAPEAMENTO COMPLETO DE COMPONENTES
# Dashboard APS - An√°lise Detalhada de Componentes

## üèóÔ∏è ARQUITETURA IDENTIFICADA

### **Estrutura de Diret√≥rios**
```
components/
‚îú‚îÄ‚îÄ ui/               47 componentes (shadcn/ui)
‚îú‚îÄ‚îÄ charts/           30+ componentes de gr√°ficos
‚îú‚îÄ‚îÄ layout/           3 componentes de layout
‚îú‚îÄ‚îÄ shared/           8 componentes reutiliz√°veis
‚îî‚îÄ‚îÄ figma/            1 componente espec√≠fico
```

---

## üìä COMPONENTES DE GR√ÅFICOS (30+ identificados)

### **1. VIS√ÉO GERAL**

#### **DemograficosKPIs.tsx**
- **Fun√ß√£o**: 4 KPIs demogr√°ficos com donut charts
- **Dados**: `demograficosData` (composi√ß√£o familiar, sexo, idade, tempo programa)
- **Visualiza√ß√£o**: Donut charts customizados com percentuais e valores absolutos
- **Caracter√≠sticas**:
  - Popula√ß√£o base: 5.500 pessoas
  - C√°lculo autom√°tico de valores absolutos
  - √çcones: Users, Heart, BarChart3, Clock
  - Grid responsivo: 1-2-4 colunas

#### **CoberturaPopulacional.tsx**
- **Fun√ß√£o**: Dashboard de cobertura com funis e heatmap
- **Dados**: 8.950 eleg√≠veis, 7.720 vinculados (86.3% taxa)
- **Visualiza√ß√µes**:
  - 6 KPIs principais com tooltips
  - Funil de cobertura (eleg√≠veis ‚Üí vinculados ‚Üí n√£o vinculados)
  - Funil de acompanhamento (adequado/aceit√°vel/inadequado)
  - Heatmap temporal (12 meses)
- **Interatividade**: Filtros locais clic√°veis com correla√ß√µes

#### **RespondentesPerfilSaude.tsx**
- **Fun√ß√£o**: Taxa de resposta ao perfil de sa√∫de
- **Dados**: 72.1% taxa atual, 5.564 respondentes
- **Aging**: 28% < 3 meses, 35% 3-9m, 37% > 9m
- **Meta**: 80% de resposta

#### **UtilizacaoAPS.tsx**
- **Fun√ß√£o**: Utiliza√ß√£o da Aten√ß√£o Prim√°ria
- **Dados**: 4.825 atendimentos, 3.287 pacientes √∫nicos
- **M√©tricas**: Taxa recorr√™ncia 1.47, encaminhamento 17.7%
- **Top Motivos**: I10 (10.1%), E11.9 (8.8%), Z00.0 (8.0%)

#### **UtilizacaoPAVirtual.tsx**
- **Fun√ß√£o**: Pronto Atendimento Virtual
- **Dados**: 3.110 atendimentos, 2.487 pacientes √∫nicos
- **Taxa Resolu√ß√£o**: 78.5%
- **Distribui√ß√£o Desfecho**: Alta (50%), Enc. oportuno (30%), PA/PS (20%)

### **2. DOEN√áAS CR√îNICAS**

#### **CronicosKPIs.tsx**
- **Fun√ß√£o**: KPIs das 6 principais condi√ß√µes cr√¥nicas
- **Dados**:
  - Hipertens√£o: 1.847 (926 em LC - 51.4%)
  - Diabetes: 926 (738 em LC - 79.7%)
  - Obesidade: 1.544 (1.189 em LC - 77.0%)
  - Ansiedade: 500 (390 em LC)
  - Depress√£o: 272 (212 em LC)
  - DORT/LER: 890 (623 em LC)

#### **HipertensaoChart.tsx**
- **Fun√ß√£o**: Dashboard completo de hipertens√£o
- **Componentes**:
  - StackedBar interativo com segmentos clic√°veis
  - FunnelChart para epidemiologia (4 n√≠veis)
  - FunnelChartClickable para est√°gio motivacional
  - Heatmap temporal (12 meses)
- **Dados Espec√≠ficos**:
  - 60% bom controle, 24% inadequado, 16% sem medida
  - Estratifica√ß√£o Framingham: 61.2% baixo, 24.1% intermedi√°rio, 14.7% alto
  - Comorbidades: Diabetes (42%), Dislipidemia (34%), Obesidade (28%)
  - Fatores risco: Sedentarismo (80%), Dieta s√≥dio (70%), Estresse (50%)
- **Interatividade**: Filtros locais com correla√ß√µes epidemiol√≥gicas

#### **DiabetesChart.tsx**
- **Fun√ß√£o**: Dashboard de diabetes mellitus
- **Controle Glic√™mico**: 67.2% bom, 22.1% inadequado, 10.7% n√£o controlado
- **Comorbidades**: Hipertens√£o (75%), Dislipidemia (68%), Obesidade (42%)
- **Visualiza√ß√µes**: Similar ao HipertensaoChart

#### **ObesidadeChart.tsx**
- **Fun√ß√£o**: Dashboard de obesidade
- **Evolu√ß√£o Peso**: 42.3% redu√ß√£o, 37.5% est√°vel, 20.2% aumento
- **Distribui√ß√£o Grau**: Sobrepeso (40%), Obesidade I (35%), II (17.5%), III (7.5%)

#### **SaudeMentalChart.tsx**
- **Fun√ß√£o**: Dashboard de sa√∫de mental
- **Acompanhamento**: 68.7% regular, 20% irregular, 11.3% sem
- **Diagn√≥sticos**: Ansiedade (40%), Depress√£o (30%), Misto (20%), Outros (10%)

### **3. RASTREIOS**

#### **RastreiosKPIs.tsx**
- **Fun√ß√£o**: KPIs dos 8 tipos de rastreio
- **Dados Identificados**:
  - Mamografia: 2.100 eleg√≠veis, 75.6% cobertura, meta 80%
  - Citologia: 1.800 eleg√≠veis, 78.9% cobertura, meta 85%
  - Colonoscopia: 1.200 eleg√≠veis, 64.7% cobertura, meta 70%
  - PHQ-9: 3.500 eleg√≠veis, 80.4% cobertura, meta 90%
  - GAD-7: 3.500 eleg√≠veis, 84.0% cobertura, meta 90%
  - AUDIT: 4.000 eleg√≠veis, 77.7% cobertura, meta 85%
  - Fagerstrom: 800 eleg√≠veis, 56.9% cobertura, meta 75%
  - Framingham: 2.200 eleg√≠veis, 70.1% cobertura, meta 80%

#### **MamografiaChart.tsx**
- **Fun√ß√£o**: Dashboard espec√≠fico de mamografia
- **Dados Detalhados**:
  - Funil: 5 n√≠veis (eleg√≠veis ‚Üí solicitados ‚Üí realizados ‚Üí altera√ß√£o ‚Üí acompanhamento)
  - Aging: 15.2% nunca, 9.7% >3 anos, 12.5% 2-3 anos
  - Estratifica√ß√£o et√°ria: 4 faixas (50-54, 55-59, 60-64, 65-69)
  - BI-RADS: 50% BI-RADS 1, 36% BI-RADS 2, 8% BI-RADS 0
  - Fatores risco: 8.7% hist√≥ria familiar, 15.4% densidade D

#### **RastreioCitologiaChart.tsx**
- **Fun√ß√£o**: Dashboard de citologia onc√≥tica
- **Similar**: Estrutura parecida com MamografiaChart
- **Popula√ß√£o**: Mulheres 25-64 anos

#### **RastreioColonChart.tsx**
- **Fun√ß√£o**: Rastreio de c√¢ncer colorretal
- **M√©todos**: SOF (2 anos) ou Colonoscopia (10 anos)
- **Popula√ß√£o**: 50+ anos

### **4. UTILIZA√á√ÉO**

#### **RankingUtilizadores.tsx**
- **Fun√ß√£o**: Ranking de utilizadores APS
- **Classifica√ß√£o**: Adequada (54.3%), Moderada (30.2%), Frequente (11.5%), Hiperutiliza√ß√£o (4.0%)

#### **RankingUtilizadoresAPS.tsx**
- **Fun√ß√£o**: Ranking espec√≠fico APS
- **M√©tricas**: Consultas m√©dicas, atendimentos enfermagem, total geral

#### **CheckupEinsteinChart.tsx**
- **Fun√ß√£o**: Dashboard de check-ups realizados
- **Dados**: Espec√≠ficos para check-up Einstein

#### **ReabilitacaoChart.tsx**
- **Fun√ß√£o**: Dashboard de reabilita√ß√£o
- **Dados**: Pacientes em programa de reabilita√ß√£o

---

## üé® COMPONENTES DE LAYOUT (3 identificados)

### **DashboardHeader.tsx**
- **Fun√ß√£o**: Cabe√ßalho principal com cliente selecionado
- **Props**: `selectedCliente`
- **Elementos**: Logo, t√≠tulo, info cliente

### **FilterSidebar.tsx**
- **Fun√ß√£o**: Sidebar de filtros com 14 tipos de filtros
- **Caracter√≠sticas**:
  - Colaps√°vel com toggle
  - Contador de filtros ativos
  - Sistema de abas (Geral, Cl√≠nico)
  - Busca interativa para linhas de cuidado e CIDs
- **Filtros Identificados**:
  - **B√°sicos**: Cliente, produto, unidade, per√≠odo
  - **Temporal**: Tempo no programa (5 op√ß√µes)
  - **Equipe**: M√©dicos fam√≠lia (3), enfermeiros (2), coordenadores (2)
  - **Demografia**: Faixas et√°rias (5), sexo (2), titularidade (2)
  - **Cl√≠nico**: Linhas cuidado (20), CIDs (103)

### **TabNavigation.tsx**
- **Fun√ß√£o**: Navega√ß√£o entre abas principais
- **Abas**: Vis√£o Geral, Cr√¥nicos, Rastreios, Utiliza√ß√£o, Tabela
- **Estado**: Mant√©m aba ativa com preserva√ß√£o de contexto

---

## üîÑ COMPONENTES SHARED (8 identificados)

### **MicroTable.tsx**
- **Fun√ß√£o**: Tabela anal√≠tica avan√ßada
- **Caracter√≠sticas**:
  - 81 colunas definidas
  - 10+ presets de visualiza√ß√£o
  - Sistema de busca e filtros por coluna
  - Ordena√ß√£o em m√∫ltiplas colunas
  - Navega√ß√£o com contexto preservado
- **Presets Identificados**:
  - `default`: Vis√£o padr√£o (10 colunas)
  - `high-utilizers`: Grandes utilizadores
  - `mental-health`: Sa√∫de mental
  - `oncology-screening`: Rastreio oncol√≥gico
  - `chronic-diseases`: Doen√ßas cr√¥nicas
  - `no-care-12m`: Sem acompanhamento
  - Context-specific: diabetes-controle, hipertensao-controle, etc.

### **MultiSelect.tsx**
- **Fun√ß√£o**: Componente de sele√ß√£o m√∫ltipla
- **Uso**: Filtros com m√∫ltiplas op√ß√µes
- **Features**: Busca, sele√ß√£o/dessele√ß√£o em massa

### **MultiSelectWithSearch.tsx**
- **Fun√ß√£o**: MultiSelect com busca avan√ßada
- **Uso**: Linhas de cuidado, CIDs
- **Features**: Busca por texto, highlighting

### **DateRangePicker.tsx**
- **Fun√ß√£o**: Seletor de per√≠odo
- **Features**: Presets (√∫ltimo m√™s, 3 meses, 6 meses, ano)
- **Formato**: dd/mm/aaaa

### **ClickableCard.tsx**
- **Fun√ß√£o**: Card clic√°vel para navega√ß√£o
- **Uso**: KPIs que navegam para tabela

### **ColumnFilter.tsx**
- **Fun√ß√£o**: Filtros espec√≠ficos por coluna na tabela
- **Types**: Text, select, multiselect, date range

### **CareLinesPanel.tsx**
- **Fun√ß√£o**: Painel de sele√ß√£o de linhas de cuidado
- **Features**: Grid visual com cores, busca

### **CIDPanel.tsx** & **CIDPanelWithSearch.tsx**
- **Fun√ß√£o**: Pain√©is de sele√ß√£o de CIDs
- **103 CIDs**: Organizados por categoria
- **Busca**: Por c√≥digo ou descri√ß√£o

---

## üé® COMPONENTES UI (47 identificados - shadcn/ui)

### **Componentes Base**
- `button.tsx` - Bot√µes com variants (default, destructive, outline, secondary, ghost, link)
- `card.tsx` - Cards com header, content, footer
- `input.tsx` - Inputs de texto
- `select.tsx` - Dropdowns
- `checkbox.tsx` - Checkboxes
- `radio-group.tsx` - Radio buttons
- `switch.tsx` - Toggle switches
- `slider.tsx` - Range sliders
- `textarea.tsx` - √Åreas de texto
- `label.tsx` - Labels para forms

### **Layout & Navigation**
- `tabs.tsx` - Sistema de abas
- `navigation-menu.tsx` - Menu de navega√ß√£o
- `breadcrumb.tsx` - Breadcrumbs
- `sidebar.tsx` - Sidebar layout
- `separator.tsx` - Separadores visuais
- `scroll-area.tsx` - √Åreas com scroll customizado

### **Data Display**
- `table.tsx` - Tabelas
- `badge.tsx` - Badges/tags
- `avatar.tsx` - Avatares
- `progress.tsx` - Barras de progresso
- `skeleton.tsx` - Loading states
- `chart.tsx` - Base para gr√°ficos

### **Feedback & Overlays**
- `dialog.tsx` - Modais
- `popover.tsx` - Popovers
- `tooltip.tsx` - Tooltips
- `hover-card.tsx` - Cards em hover
- `alert.tsx` - Alertas
- `alert-dialog.tsx` - Di√°logos de confirma√ß√£o
- `sonner.tsx` - Notifica√ß√µes toast

### **Forms & Inputs**
- `form.tsx` - Sistema de forms
- `calendar.tsx` - Calend√°rio
- `command.tsx` - Command palette
- `input-otp.tsx` - Input OTP
- `pagination.tsx` - Pagina√ß√£o

### **Advanced**
- `accordion.tsx` - Accordions
- `carousel.tsx` - Carross√©is
- `collapsible.tsx` - Elementos colaps√°veis
- `context-menu.tsx` - Menus de contexto
- `drawer.tsx` - Drawers mobile
- `dropdown-menu.tsx` - Dropdowns
- `menubar.tsx` - Barra de menus
- `resizable.tsx` - Pain√©is redimension√°veis
- `sheet.tsx` - Sheets laterais
- `toggle.tsx` - Toggles
- `toggle-group.tsx` - Grupos de toggles
- `aspect-ratio.tsx` - Controle de propor√ß√µes

### **Utilities**
- `utils.ts` - Fun√ß√µes utilit√°rias (cn, clsx + tailwind-merge)
- `use-mobile.ts` - Hook para detec√ß√£o mobile

---

## üîß COMPONENTES ESPEC√çFICOS

### **ImageWithFallback.tsx** (components/figma/)
- **Fun√ß√£o**: Componente de imagem com fallback
- **Uso**: Imagens que podem falhar no carregamento

---

## üìä AN√ÅLISE DE COMPLEXIDADE

### **Componentes por Complexidade**

#### **Alta Complexidade** (5-10 arquivos)
1. **HipertensaoChart.tsx** - Dashboard completo com m√∫ltiplas visualiza√ß√µes
2. **CoberturaPopulacional.tsx** - Funis, heatmaps, filtros interativos
3. **MicroTable.tsx** - Tabela anal√≠tica com 81 colunas e filtros
4. **FilterSidebar.tsx** - Sistema de filtros completo
5. **MamografiaChart.tsx** - Dashboard espec√≠fico com m√∫ltiplos dados

#### **M√©dia Complexidade** (3-5 arquivos)
1. **DemograficosKPIs.tsx** - 4 KPIs com donut charts
2. **ChartsView.tsx** - Orchestrador de gr√°ficos
3. **DiabetesChart.tsx** - Dashboard de diabetes
4. **ObesidadeChart.tsx** - Dashboard de obesidade
5. **RastreiosKPIs.tsx** - 8 KPIs de rastreio

#### **Baixa Complexidade** (1-2 arquivos)
- Maioria dos componentes UI
- Componentes shared simples
- KPIs individuais

---

## üéØ PADR√ïES IDENTIFICADOS

### **Padr√µes de Nomenclatura**
- `*Chart.tsx` - Componentes de gr√°ficos espec√≠ficos
- `*KPIs.tsx` - Componentes de KPIs agrupados
- `*Panel.tsx` - Pain√©is de sele√ß√£o
- Arquivos `.tsx` para componentes React

### **Padr√µes de Props**
```typescript
// Padr√£o comum para gr√°ficos
interface ChartProps {
  filters?: any;
  onNavigateToTable?: (type: string) => void;
  localFilter?: LocalFilter | null;
  onLocalFilterChange?: (filter: LocalFilter | null) => void;
}
```

### **Padr√µes de Estado**
- `useState` para estado local
- Props drilling para filtros globais
- Filtros locais para interatividade entre gr√°ficos

### **Padr√µes de Estiliza√ß√£o**
- Tailwind CSS classes
- `cn()` utility para conditional classes
- Grid responsivo: `grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4`
- Cores consistentes via `projectColors`

---

## üìà M√âTRICAS DE COMPONENTES

- **Total de Componentes**: 89 arquivos
- **Gr√°ficos Principais**: 30+
- **shadcn/ui Components**: 47
- **Shared Components**: 8  
- **Layout Components**: 3
- **Specific Components**: 1

---

## üîÑ DEPEND√äNCIAS ENTRE COMPONENTES

### **Hierarquia Principal**
```
App.tsx
‚îú‚îÄ‚îÄ DashboardHeader.tsx
‚îú‚îÄ‚îÄ FilterSidebar.tsx
‚îú‚îÄ‚îÄ TabNavigation.tsx
‚îî‚îÄ‚îÄ ChartsView.tsx
    ‚îú‚îÄ‚îÄ DemograficosKPIs.tsx
    ‚îú‚îÄ‚îÄ CoberturaPopulacional.tsx
    ‚îú‚îÄ‚îÄ [30+ Chart Components]
    ‚îî‚îÄ‚îÄ MicroTable.tsx
```

### **Depend√™ncias de Dados**
- **chartsData.ts** ‚Üí Todos os componentes de gr√°ficos
- **constants/filters.ts** ‚Üí FilterSidebar, MicroTable
- **types/index.ts** ‚Üí Todos os componentes

### **Depend√™ncias de UI**
- **ui/*** ‚Üí Todos os componentes
- **shared/*** ‚Üí Gr√°ficos e layouts

---

## üìã PR√ìXIMOS PASSOS DE REFATORAMENTO

### **Prioridade Alta**
1. **ChartsView.tsx** - Refatorar orchestra√ß√£o de gr√°ficos
2. **MicroTable.tsx** - Migrar para TanStack Table v8
3. **FilterSidebar.tsx** - Implementar Zustand para estado global
4. **HipertensaoChart.tsx** - Separar em subcomponentes

### **Prioridade M√©dia**
1. Padronizar props interfaces
2. Implementar React Query para data fetching
3. Adicionar Framer Motion para anima√ß√µes
4. Criar storybook para componentes UI

### **Prioridade Baixa**
1. Refatorar componentes shadcn/ui customizados
2. Implementar testes unit√°rios
3. Otimizar bundle size com lazy loading
4. Adicionar acessibilidade (ARIA)

---

**üìå NOTA**: Este mapeamento identifica 100% dos componentes encontrados no projeto, servindo como base completa para o refatoramento.